(self.webpackChunk_JUPYTERLAB_CORE_OUTPUT=self.webpackChunk_JUPYTERLAB_CORE_OUTPUT||[]).push([[1906],{31906:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>v});var n,r=o(93226),a=o(80430),i=o(82090),d=o(58611),c=o(32364),s=o(59586),l=o(57452),m=o(96987),u=o(39232),p=o(86082),w=o(4324),h=o(62867),b=o(27529);!function(e){e.copy="filebrowser:copy",e.copyDownloadLink="filebrowser:copy-download-link",e.cut="filebrowser:cut",e.del="filebrowser:delete",e.download="filebrowser:download",e.duplicate="filebrowser:duplicate",e.goToPath="filebrowser:go-to-path",e.openPath="filebrowser:open-path",e.open="filebrowser:open",e.openBrowserTab="filebrowser:open-browser-tab",e.paste="filebrowser:paste",e.createNewDirectory="filebrowser:create-new-directory",e.createNewFile="filebrowser:create-new-file",e.createNewMarkdownFile="filebrowser:create-new-markdown-file",e.rename="filebrowser:rename",e.share="filebrowser:share-main",e.copyPath="filebrowser:copy-path",e.shutdown="filebrowser:shutdown",e.toggleNavigateToCurrentDirectory="filebrowser:toggle-navigate-to-current-directory",e.toggleLastModified="filebrowser:toggle-last-modified",e.search="filebrowser:search"}(n||(n={}));const g={id:"@jupyterlab-classic/tree-extension:buttons",requires:[c.IFileBrowserFactory],autoStart:!0,activate:(e,t)=>{const{commands:o}=e,r=t.defaultBrowser,i="tree:new-notebook";o.addCommand(i,{label:"New Notebook",icon:w.notebookIcon,execute:()=>o.execute("notebook:create-new")});const d=new a.CommandToolbarButton({commands:o,id:i}),c=new a.CommandToolbarButton({commands:o,id:n.createNewFile});r.toolbar.insertItem(0,"new-notebook",d),r.toolbar.insertItem(1,"new-file",c)}},f={id:"@jupyterlab-classic/tree-extension:new-terminal",requires:[c.IFileBrowserFactory],autoStart:!0,activate:(e,t)=>{const{commands:o}=e,n=t.defaultBrowser,r="tree:new-terminal";o.addCommand(r,{label:"New Terminal",icon:w.terminalIcon,execute:()=>o.execute("terminal:create-new")});const i=new a.CommandToolbarButton({commands:o,id:r});n.toolbar.insertItem(2,"new-terminal",i)}},y={activate:function(e,t,o,r,i,d,c,s,m,u){const p=t.defaultBrowser;s&&s.add(p,_),function(e,t,o,r,i,d){const c=r.load("jupyterlab"),{docRegistry:s,commands:l}=e,{defaultBrowser:m,tracker:u}=t;l.addCommand(n.del,{execute:()=>{const e=u.currentWidget;if(e)return e.delete()},icon:w.closeIcon.bindprops({stylesheet:"menuItem"}),label:c.__("Delete"),mnemonic:0}),l.addCommand(n.copy,{execute:()=>{const e=u.currentWidget;if(e)return e.copy()},icon:w.copyIcon.bindprops({stylesheet:"menuItem"}),label:c.__("Copy"),mnemonic:0}),l.addCommand(n.cut,{execute:()=>{const e=u.currentWidget;if(e)return e.cut()},icon:w.cutIcon.bindprops({stylesheet:"menuItem"}),label:c.__("Cut")}),l.addCommand(n.download,{execute:()=>{const e=u.currentWidget;if(e)return e.download()},icon:w.downloadIcon.bindprops({stylesheet:"menuItem"}),label:c.__("Download")}),l.addCommand(n.duplicate,{execute:()=>{const e=u.currentWidget;if(e)return e.duplicate()},icon:w.copyIcon.bindprops({stylesheet:"menuItem"}),label:c.__("Duplicate")}),l.addCommand(n.goToPath,{execute:async e=>{const o=e.path||"";try{if("directory"!==(await x.navigateToPath(o,t,r)).type){const e=x.getBrowserForPath(o,t);if(e){e.clearSelectedItems();const t=o.split("/"),n=t[t.length-1];n&&await e.selectItemByName(n)}}}catch(e){console.warn(`${n.goToPath} failed to go to: ${o}`,e)}}}),l.addCommand(n.openPath,{label:e=>e.path?c.__("Open %1",e.path):c.__("Open from Pathâ€¦"),caption:e=>e.path?c.__("Open %1",e.path):c.__("Open from path"),execute:async e=>{var o;let r;if(r=(null==e?void 0:e.path)?e.path:null!==(o=(await a.InputDialog.getText({label:c.__("Path"),placeholder:"/path/relative/to/jlab/root",title:c.__("Open Path"),okLabel:c.__("Open")})).value)&&void 0!==o?o:void 0,r)try{const o="/"!==r&&r.endsWith("/");o&&(r=r.slice(0,r.length-1));const a=x.getBrowserForPath(r,t),{services:i}=a.model.manager,d=await i.contents.get(r,{content:!1});if(o&&"directory"!==d.type)throw new Error(`Path ${r}/ is not a directory`);if(await l.execute(n.goToPath,{path:r,dontShowBrowser:e.dontShowBrowser}),"directory"===d.type)return;return l.execute("docmanager:open",{path:r})}catch(e){return e.response&&404===e.response.status&&(e.message=c.__("Could not find path: %1",r)),(0,a.showErrorMessage)(c.__("Cannot open"),e)}}}),i&&i.addItem({command:n.openPath,category:c.__("File Operations")}),l.addCommand(n.open,{execute:e=>{const t=e.factory||void 0,o=u.currentWidget;if(!o)return;const{contents:n}=o.model.manager.services;return Promise.all((0,h.toArray)((0,h.map)(o.selectedItems(),(e=>{if("directory"===e.type){const t=n.localPath(e.path);return o.model.cd(`/${t}`)}return l.execute("docmanager:open",{factory:t,path:e.path})}))))},icon:e=>{var t;const o=e.factory||void 0;if(o){const e=s.getFileType(o);return null===(t=null==e?void 0:e.icon)||void 0===t?void 0:t.bindprops({stylesheet:"menuItem"})}return w.folderIcon.bindprops({stylesheet:"menuItem"})},label:e=>e.label||e.factory||c.__("Open"),mnemonic:0}),l.addCommand(n.openBrowserTab,{execute:()=>{const e=u.currentWidget;if(e)return Promise.all((0,h.toArray)((0,h.map)(e.selectedItems(),(e=>l.execute("docmanager:open-browser-tab",{path:e.path})))))},icon:w.addIcon.bindprops({stylesheet:"menuItem"}),label:c.__("Open in New Browser Tab"),mnemonic:0}),l.addCommand(n.copyDownloadLink,{execute:()=>{const e=u.currentWidget;if(e)return e.model.manager.services.contents.getDownloadUrl(e.selectedItems().next().path).then((e=>{a.Clipboard.copyToSystem(e)}))},icon:w.copyIcon.bindprops({stylesheet:"menuItem"}),label:c.__("Copy Download Link"),mnemonic:0}),l.addCommand(n.paste,{execute:()=>{const e=u.currentWidget;if(e)return e.paste()},icon:w.pasteIcon.bindprops({stylesheet:"menuItem"}),label:c.__("Paste"),mnemonic:0}),l.addCommand(n.createNewDirectory,{execute:()=>{const e=u.currentWidget;if(e)return e.createNewDirectory()},icon:w.newFolderIcon.bindprops({stylesheet:"menuItem"}),label:c.__("New Folder")}),l.addCommand(n.createNewFile,{execute:()=>{const{model:{path:e}}=m;l.execute("docmanager:new-untitled",{path:e,type:"file",ext:"txt"})},icon:w.textEditorIcon.bindprops({stylesheet:"menuItem"}),label:c.__("New File")}),l.addCommand(n.createNewMarkdownFile,{execute:()=>{const{model:{path:e}}=m;l.execute("docmanager:new-untitled",{path:e,type:"file",ext:"md"})},icon:w.markdownIcon.bindprops({stylesheet:"menuItem"}),label:c.__("New Markdown File")}),l.addCommand(n.rename,{execute:e=>{const t=u.currentWidget;if(t)return t.rename()},icon:w.editIcon.bindprops({stylesheet:"menuItem"}),label:c.__("Rename"),mnemonic:0}),l.addCommand(n.copyPath,{execute:()=>{const e=u.currentWidget;if(!e)return;const t=e.selectedItems().next();t&&a.Clipboard.copyToSystem(t.path)},isVisible:()=>!!u.currentWidget&&void 0!==u.currentWidget.selectedItems().next,icon:w.fileIcon.bindprops({stylesheet:"menuItem"}),label:c.__("Copy Path")}),l.addCommand(n.shutdown,{execute:()=>{const e=u.currentWidget;if(e)return e.shutdownKernels()},icon:w.stopIcon.bindprops({stylesheet:"menuItem"}),label:c.__("Shut Down Kernel")}),l.addCommand(n.toggleNavigateToCurrentDirectory,{label:c.__("Show Active File in File Browser"),isToggled:()=>m.navigateToCurrentDirectory,execute:()=>{const e=!m.navigateToCurrentDirectory;return o.set("@jupyterlab/filebrowser-extension:browser","navigateToCurrentDirectory",e).catch((e=>{console.error("Failed to set navigateToCurrentDirectory setting")}))}}),l.addCommand(n.toggleLastModified,{label:c.__("Toggle Last Modified Column"),execute:()=>{const e=a.DOMUtils.findElement(document.body,"jp-id-modified"),t=a.DOMUtils.findElements(document.body,"jp-DirListing-itemModified");if(e.classList.contains("jp-LastModified-hidden")){e.classList.remove("jp-LastModified-hidden");for(let e=0;e<t.length;e++)t[e].classList.remove("jp-LastModified-hidden")}else{e.classList.add("jp-LastModified-hidden");for(let e=0;e<t.length;e++)t[e].classList.add("jp-LastModified-hidden")}}}),l.addCommand(n.search,{label:c.__("Search on File Names"),execute:()=>alert("search")}),d&&d.settingsMenu.addGroup([{command:n.toggleNavigateToCurrentDirectory}],5),i&&i.addItem({command:n.toggleNavigateToCurrentDirectory,category:c.__("File Operations")});const p=".jp-DirListing-content",b=".jp-DirListing-item[data-isdir]",g='.jp-DirListing-item[data-isdir="false"]';e.contextMenu.addItem({command:n.createNewDirectory,selector:p,rank:1}),e.contextMenu.addItem({command:n.createNewFile,selector:p,rank:2}),e.contextMenu.addItem({command:n.createNewMarkdownFile,selector:p,rank:3}),e.contextMenu.addItem({command:n.paste,selector:p,rank:4}),e.contextMenu.addItem({command:n.open,selector:b,rank:1}),e.contextMenu.addItem({command:n.openBrowserTab,selector:g,rank:3}),e.contextMenu.addItem({command:n.rename,selector:b,rank:4}),e.contextMenu.addItem({command:n.del,selector:b,rank:5}),e.contextMenu.addItem({command:n.cut,selector:b,rank:6}),e.contextMenu.addItem({command:n.copy,selector:g,rank:7}),e.contextMenu.addItem({command:n.duplicate,selector:g,rank:8}),e.contextMenu.addItem({command:n.download,selector:g,rank:9}),e.contextMenu.addItem({command:n.shutdown,selector:g,rank:10}),e.contextMenu.addItem({command:n.share,selector:b,rank:11}),e.contextMenu.addItem({command:n.copyPath,selector:b,rank:12}),e.contextMenu.addItem({command:n.copyDownloadLink,selector:g,rank:13}),e.contextMenu.addItem({command:n.toggleLastModified,selector:".jp-DirListing-header",rank:14})}(e,t,r,i,d,c),p.title.icon=w.folderIcon;const g=new b.TabPanel({tabPlacement:"top",tabsMovable:!0});if(g.addClass("jp-TreePanel"),p.title.label="Files",g.addWidget(p),g.tabBar.addTab(p.title),u){const e=new l.RunningSessions(u,i);e.id="jp-running-sessions",e.title.label="Running",e.title.icon=w.runningIcon,g.addWidget(e),g.tabBar.addTab(e.title)}e.shell.add(g,"main",{rank:100}),Promise.all([e.restored,p.model.restored]).then((()=>{let e=!1,t=!0;r.load("@jupyterlab/filebrowser-extension:browser").then((o=>{o.changed.connect((t=>{e=t.get("navigateToCurrentDirectory").composite,p.navigateToCurrentDirectory=e})),e=o.get("navigateToCurrentDirectory").composite,p.navigateToCurrentDirectory=e,o.changed.connect((e=>{t=e.get("useFuzzyFilter").composite,p.useFuzzyFilter=t})),t=o.get("useFuzzyFilter").composite,p.useFuzzyFilter=t})),m&&p.model.pathChanged.connect(((e,t)=>{m(t.newValue)}))}))},id:"@jupyterlab-classic/tree-extension:browser",requires:[c.IFileBrowserFactory,d.IDocumentManager,m.ISettingRegistry,p.ITranslator],optional:[a.ICommandPalette,s.IMainMenu,r.ILayoutRestorer,r.ITreePathUpdater,l.IRunningSessionManagers],autoStart:!0},I={activate:async function(e,t,o,n,r,i){const{commands:d}=e,s=new a.WidgetTracker({namespace:_}),l=(e,r={})=>{var a;const i=new c.FilterFileBrowserModel({translator:o,auto:null===(a=r.auto)||void 0===a||a,manager:t,driveName:r.driveName||"",refreshInterval:r.refreshInterval,state:null===r.state?void 0:r.state||n||void 0}),d=r.restore,l=new c.FileBrowser({id:e,model:i,restore:d,translator:o});return s.add(l),l},m=l("filebrowser",{auto:!1,restore:!1});return x.restoreBrowser(m,d,r,i),{createFileBrowser:l,defaultBrowser:m,tracker:s}},id:"@jupyterlab-classic/tree-extension:factory",provides:c.IFileBrowserFactory,requires:[d.IDocumentManager,p.ITranslator],optional:[u.IStateDB,r.IRouter,r.JupyterFrontEnd.ITreeResolver]},_="filebrowser";var x;!function(e){e.getBrowserForPath=function(e,t){const{defaultBrowser:o,tracker:r}=t,a=o.model.manager.services.contents.driveName(e);if(a){return r.find((e=>e.model.driveName===a))||void console.warn(`${n.goToPath} failed to find filebrowser for path: ${e}`)}return o},e.navigateToPath=async function(t,o,n){const r=n.load("jupyterlab"),a=e.getBrowserForPath(t,o);if(!a)throw new Error(r.__("No browser for path"));const{services:d}=a.model.manager,c=d.contents.localPath(t);await d.ready;const s=await d.contents.get(t,{content:!1}),{model:l}=a;return await l.restored,"directory"===s.type?await l.cd(`/${c}`):await l.cd(`/${i.PathExt.dirname(c)}`),s},e.restoreBrowser=async function(e,t,o,r){const a="jp-mod-restoring";if(e.addClass(a),!o)return await e.model.restore(e.id),await e.model.refresh(),void e.removeClass(a);const i=async()=>{o.routed.disconnect(i);const d=await(null==r?void 0:r.paths);(null==d?void 0:d.file)||(null==d?void 0:d.browser)?(await e.model.restore(e.id,!1),d.file&&await t.execute(n.openPath,{path:d.file,dontShowBrowser:!0}),d.browser&&await t.execute(n.openPath,{path:d.browser,dontShowBrowser:!0})):(await e.model.restore(e.id),await e.model.refresh()),e.removeClass(a)};o.routed.connect(i)}}(x||(x={}));const v=[y,I,g,f]}}]);
//# sourceMappingURL=1906.bundle.js.map
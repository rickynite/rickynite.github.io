(self.webpackChunk_JUPYTERLAB_CORE_OUTPUT=self.webpackChunk_JUPYTERLAB_CORE_OUTPUT||[]).push([[8389],{98389:(e,t,o)=>{"use strict";o.r(t),o.d(t,{commandEditItem:()=>T,default:()=>L,notebookTrustItem:()=>R});var n=o(93226),l=o(80430),a=o(13631),r=o(82090),s=o(58611),c=o(32364),d=o(49174),i=o(59586),u=o(97688),b=o(65124),m=o(71187),p=o(96987),k=o(39232),C=o(82113),g=o(86082),x=o(4324),A=o(62867),_=o(9727),h=o(76487),w=o(32151),f=o(27529),v=o(8091),N=o(94269);const E={activate:function(e,t,o){function n(e){function t(t,n,l){if(N.KernelMessage.isDisplayDataMsg(t)||N.KernelMessage.isStreamMsg(t)||N.KernelMessage.isErrorMsg(t)||N.KernelMessage.isExecuteResultMsg(t)){const a=o.getLogger(e.context.path);a.rendermime=e.content.rendermime;const r=Object.assign(Object.assign({},t.content),{output_type:t.header.msg_type});let s=n;(N.KernelMessage.isErrorMsg(t)||N.KernelMessage.isStreamMsg(t)&&"stderr"===t.content.name)&&(s=l),a.log({type:"output",data:r,level:s})}}e.context.sessionContext.iopubMessage.connect(((e,o)=>t(o,"info","info"))),e.context.sessionContext.unhandledMessage.connect(((e,o)=>t(o,"warning","error")))}o&&(t.forEach((e=>n(e))),t.widgetAdded.connect(((e,t)=>n(t))))},id:"@jupyterlab/notebook-extension:log-output",requires:[u.INotebookTracker],optional:[v.ILoggerRegistry],autoStart:!0};var y;!function(e){e.createNew="notebook:create-new",e.interrupt="notebook:interrupt-kernel",e.restart="notebook:restart-kernel",e.restartClear="notebook:restart-clear-output",e.restartAndRunToSelected="notebook:restart-and-run-to-selected",e.restartRunAll="notebook:restart-run-all",e.reconnectToKernel="notebook:reconnect-to-kernel",e.changeKernel="notebook:change-kernel",e.createConsole="notebook:create-console",e.createOutputView="notebook:create-output-view",e.clearAllOutputs="notebook:clear-all-cell-outputs",e.closeAndShutdown="notebook:close-and-shutdown",e.trust="notebook:trust",e.exportToFormat="notebook:export-to-format",e.run="notebook:run-cell",e.runAndAdvance="notebook:run-cell-and-select-next",e.runAndInsert="notebook:run-cell-and-insert-below",e.runInConsole="notebook:run-in-console",e.runAll="notebook:run-all-cells",e.runAllAbove="notebook:run-all-above",e.runAllBelow="notebook:run-all-below",e.renderAllMarkdown="notebook:render-all-markdown",e.toCode="notebook:change-cell-to-code",e.toMarkdown="notebook:change-cell-to-markdown",e.toRaw="notebook:change-cell-to-raw",e.cut="notebook:cut-cell",e.copy="notebook:copy-cell",e.pasteAbove="notebook:paste-cell-above",e.pasteBelow="notebook:paste-cell-below",e.pasteAndReplace="notebook:paste-and-replace-cell",e.moveUp="notebook:move-cell-up",e.moveDown="notebook:move-cell-down",e.clearOutputs="notebook:clear-cell-output",e.deleteCell="notebook:delete-cell",e.insertAbove="notebook:insert-cell-above",e.insertBelow="notebook:insert-cell-below",e.selectAbove="notebook:move-cursor-up",e.selectBelow="notebook:move-cursor-down",e.extendAbove="notebook:extend-marked-cells-above",e.extendTop="notebook:extend-marked-cells-top",e.extendBelow="notebook:extend-marked-cells-below",e.extendBottom="notebook:extend-marked-cells-bottom",e.selectAll="notebook:select-all",e.deselectAll="notebook:deselect-all",e.editMode="notebook:enter-edit-mode",e.merge="notebook:merge-cells",e.split="notebook:split-cell-at-cursor",e.commandMode="notebook:enter-command-mode",e.toggleAllLines="notebook:toggle-all-cell-line-numbers",e.undoCellAction="notebook:undo-cell-action",e.redoCellAction="notebook:redo-cell-action",e.markdown1="notebook:change-cell-to-heading-1",e.markdown2="notebook:change-cell-to-heading-2",e.markdown3="notebook:change-cell-to-heading-3",e.markdown4="notebook:change-cell-to-heading-4",e.markdown5="notebook:change-cell-to-heading-5",e.markdown6="notebook:change-cell-to-heading-6",e.hideCode="notebook:hide-cell-code",e.showCode="notebook:show-cell-code",e.hideAllCode="notebook:hide-all-cell-code",e.showAllCode="notebook:show-all-cell-code",e.hideOutput="notebook:hide-cell-outputs",e.showOutput="notebook:show-cell-outputs",e.hideAllOutputs="notebook:hide-all-cell-outputs",e.showAllOutputs="notebook:show-all-cell-outputs",e.enableOutputScrolling="notebook:enable-output-scrolling",e.disableOutputScrolling="notebook:disable-output-scrolling",e.selectLastRunCell="notebook:select-last-run-cell",e.replaceSelection="notebook:replace-selection"}(y||(y={}));const M="Notebook",O=["notebook","python","custom"],S={id:"@jupyterlab/notebook-extension:tracker",provides:u.INotebookTracker,requires:[u.INotebookWidgetFactory,s.IDocumentManager,g.ITranslator],optional:[l.ICommandPalette,c.IFileBrowserFactory,d.ILauncher,n.ILayoutRestorer,i.IMainMenu,p.ISettingRegistry,l.ISessionContextDialogs],activate:function(e,t,o,n,a,s,c,d,i,b,m){const p=n.load("jupyterlab"),k=e.serviceManager,{commands:C}=e,g=new u.NotebookTracker({namespace:"notebook"}),A=new l.WidgetTracker({namespace:"cloned-outputs"});d&&(d.restore(g,{command:"docmanager:open",args:e=>({path:e.context.path,factory:M}),name:e=>e.context.path,when:k.ready}),d.restore(A,{command:y.createOutputView,args:e=>({path:e.content.path,index:e.content.index}),name:e=>`${e.content.path}:${e.content.index}`,when:g.restored})),e.docRegistry.addModelFactory(new u.NotebookModelFactory({})),function(e,t,o,n,a,s,c){const d=s.load("jupyterlab"),{commands:i,shell:b}=e;function m(e){const t=n.currentWidget;return!1!==e.activate&&t&&b.activateById(t.id),t}function p(){return null!==n.currentWidget&&n.currentWidget===b.currentWidget}function k(){if(!p())return!1;const{content:e}=n.currentWidget,t=e.activeCellIndex;for(let o=0;o<e.widgets.length;++o)if(e.isSelected(e.widgets[o])&&o!==t)return!1;return!0}c=null!=c?c:l.sessionContextDialogs,i.addCommand(y.runAndAdvance,{label:d.__("Run Selected Cells"),execute:e=>{const t=m(e);if(t){const{context:e,content:o}=t;return u.NotebookActions.runAndAdvance(o,e.sessionContext)}},isEnabled:p}),i.addCommand(y.run,{label:d.__("Run Selected Cells and Don't Advance"),execute:e=>{const t=m(e);if(t){const{context:e,content:o}=t;return u.NotebookActions.run(o,e.sessionContext)}},isEnabled:p}),i.addCommand(y.runAndInsert,{label:d.__("Run Selected Cells and Insert Below"),execute:e=>{const t=m(e);if(t){const{context:e,content:o}=t;return u.NotebookActions.runAndInsert(o,e.sessionContext)}},isEnabled:p}),i.addCommand(y.runInConsole,{label:d.__("Run Selected Text or Current Line in Console"),execute:async e=>{var t,o;const n=m(Object.assign({activate:!1},e));if(!n)return;const{context:l,content:a}=n,r=a.activeCell,s=null==r?void 0:r.model.metadata.toJSON(),c=l.path;if(!r||"code"!==r.model.type)return;let d;const u=r.editor,b=u.getSelection(),{start:p,end:k}=b;if(p.column!==k.column||p.line!==k.line){const e=u.getOffsetAt(b.start),t=u.getOffsetAt(b.end);d=u.model.value.text.substring(e,t)}else{const e=u.getCursorPosition(),l=u.model.value.text.split("\n");let a=b.start.line;for(;a<u.lineCount&&!l[a].replace(/\s/g,"").length;)a+=1;let r=a>0,s=0,c=s+1;for(;;){d=l.slice(s,c).join("\n");const i=await(null===(o=null===(t=n.context.sessionContext.session)||void 0===t?void 0:t.kernel)||void 0===o?void 0:o.requestIsComplete({code:d+"\n\n"}));if("complete"===(null==i?void 0:i.content.status)){if(a<c){for(;c<u.lineCount&&!l[c].replace(/\s/g,"").length;)c+=1;u.setCursorPosition({line:c,column:e.column});break}s=c,c=s+1}else if(c<u.lineCount)c+=1;else{if(!r){for(d=l[a];a+1<u.lineCount&&!l[a+1].replace(/\s/g,"").length;)a+=1;u.setCursorPosition({line:a+1,column:e.column});break}s=a,c=a+1,r=!1}}}d&&(await i.execute("console:open",{activate:!1,insertMode:"split-bottom",path:c}),await i.execute("console:inject",{activate:!1,code:d,path:c,metadata:s}))},isEnabled:p}),i.addCommand(y.runAll,{label:d.__("Run All Cells"),execute:e=>{const t=m(e);if(t){const{context:e,content:o}=t;return u.NotebookActions.runAll(o,e.sessionContext)}},isEnabled:p}),i.addCommand(y.runAllAbove,{label:d.__("Run All Above Selected Cell"),execute:e=>{const t=m(e);if(t){const{context:e,content:o}=t;return u.NotebookActions.runAllAbove(o,e.sessionContext)}},isEnabled:()=>k()&&0!==n.currentWidget.content.activeCellIndex}),i.addCommand(y.runAllBelow,{label:d.__("Run Selected Cell and All Below"),execute:e=>{const t=m(e);if(t){const{context:e,content:o}=t;return u.NotebookActions.runAllBelow(o,e.sessionContext)}},isEnabled:()=>k()&&n.currentWidget.content.activeCellIndex!==n.currentWidget.content.widgets.length-1}),i.addCommand(y.renderAllMarkdown,{label:d.__("Render All Markdown Cells"),execute:e=>{const t=m(e);if(t){const{context:e,content:o}=t;return u.NotebookActions.renderAllMarkdown(o,e.sessionContext)}},isEnabled:p}),i.addCommand(y.restart,{label:d.__("Restart Kernel…"),execute:e=>{const t=m(e);if(t)return c.restart(t.sessionContext,s)},isEnabled:p}),i.addCommand(y.closeAndShutdown,{label:d.__("Close and Shut Down"),execute:e=>{const t=m(e);if(!t)return;const o=t.title.label;return(0,l.showDialog)({title:d.__("Shut down the notebook?"),body:d.__('Are you sure you want to close "%1"?',o),buttons:[l.Dialog.cancelButton(),l.Dialog.warnButton()]}).then((e=>{if(e.button.accept)return t.context.sessionContext.shutdown().then((()=>{t.dispose()}))}))},isEnabled:p}),i.addCommand(y.trust,{label:()=>d.__("Trust Notebook"),execute:e=>{const t=m(e);if(t){const{context:e,content:o}=t;return u.NotebookActions.trust(o).then((()=>e.save()))}},isEnabled:p}),i.addCommand(y.exportToFormat,{label:e=>{const t=e.label;return e.isPalette?d.__("Export Notebook: %1",t):t},execute:e=>{const t=m(e);if(!t)return;const o=r.PageConfig.getNBConvertURL({format:e.format,download:!0,path:t.context.path}),n=window.open("","_blank"),{context:l}=t;return n&&(n.opener=null),l.model.dirty&&!l.model.readOnly?l.save().then((()=>{null==n||n.location.assign(o)})):new Promise((e=>{null==n||n.location.assign(o),e(void 0)}))},isEnabled:p}),i.addCommand(y.restartClear,{label:d.__("Restart Kernel and Clear All Outputs…"),execute:e=>{const t=m(e);if(t){const{content:e,sessionContext:o}=t;return c.restart(o,s).then((()=>{u.NotebookActions.clearAllOutputs(e)}))}},isEnabled:p}),i.addCommand(y.restartAndRunToSelected,{label:d.__("Restart Kernel and Run up to Selected Cell…"),execute:e=>{const t=m(e);if(t){const{context:e,content:o}=t;return c.restart(t.sessionContext,s).then((t=>{t&&u.NotebookActions.runAllAbove(o,e.sessionContext).then((t=>{(t||0===o.activeCellIndex)&&u.NotebookActions.run(o,e.sessionContext)}))}))}},isEnabled:()=>k()}),i.addCommand(y.restartRunAll,{label:d.__("Restart Kernel and Run All Cells…"),execute:e=>{const t=m(e);if(t){const{context:e,content:o,sessionContext:n}=t;return c.restart(n,s).then((t=>(t&&u.NotebookActions.runAll(o,e.sessionContext),t)))}},isEnabled:p}),i.addCommand(y.clearAllOutputs,{label:d.__("Clear All Outputs"),execute:e=>{const t=m(e);if(t)return u.NotebookActions.clearAllOutputs(t.content)},isEnabled:p}),i.addCommand(y.clearOutputs,{label:d.__("Clear Outputs"),execute:e=>{const t=m(e);if(t)return u.NotebookActions.clearOutputs(t.content)},isEnabled:p}),i.addCommand(y.interrupt,{label:d.__("Interrupt Kernel"),execute:e=>{var t;const o=m(e);if(!o)return;const n=null===(t=o.context.sessionContext.session)||void 0===t?void 0:t.kernel;return n?n.interrupt():void 0},isEnabled:p}),i.addCommand(y.toCode,{label:d.__("Change to Code Cell Type"),execute:e=>{const t=m(e);if(t)return u.NotebookActions.changeCellType(t.content,"code")},isEnabled:p}),i.addCommand(y.toMarkdown,{label:d.__("Change to Markdown Cell Type"),execute:e=>{const t=m(e);if(t)return u.NotebookActions.changeCellType(t.content,"markdown")},isEnabled:p}),i.addCommand(y.toRaw,{label:d.__("Change to Raw Cell Type"),execute:e=>{const t=m(e);if(t)return u.NotebookActions.changeCellType(t.content,"raw")},isEnabled:p}),i.addCommand(y.cut,{label:d.__("Cut Cells"),execute:e=>{const t=m(e);if(t)return u.NotebookActions.cut(t.content)},isEnabled:p}),i.addCommand(y.copy,{label:d.__("Copy Cells"),execute:e=>{const t=m(e);if(t)return u.NotebookActions.copy(t.content)},isEnabled:p}),i.addCommand(y.pasteBelow,{label:d.__("Paste Cells Below"),execute:e=>{const t=m(e);if(t)return u.NotebookActions.paste(t.content,"below")},isEnabled:p}),i.addCommand(y.pasteAbove,{label:d.__("Paste Cells Above"),execute:e=>{const t=m(e);if(t)return u.NotebookActions.paste(t.content,"above")},isEnabled:p}),i.addCommand(y.pasteAndReplace,{label:d.__("Paste Cells and Replace"),execute:e=>{const t=m(e);if(t)return u.NotebookActions.paste(t.content,"replace")},isEnabled:p}),i.addCommand(y.deleteCell,{label:d.__("Delete Cells"),execute:e=>{const t=m(e);if(t)return u.NotebookActions.deleteCells(t.content)},isEnabled:p}),i.addCommand(y.split,{label:d.__("Split Cell"),execute:e=>{const t=m(e);if(t)return u.NotebookActions.splitCell(t.content)},isEnabled:p}),i.addCommand(y.merge,{label:d.__("Merge Selected Cells"),execute:e=>{const t=m(e);if(t)return u.NotebookActions.mergeCells(t.content)},isEnabled:p}),i.addCommand(y.insertAbove,{label:d.__("Insert Cell Above"),execute:e=>{const t=m(e);if(t)return u.NotebookActions.insertAbove(t.content)},isEnabled:p}),i.addCommand(y.insertBelow,{label:d.__("Insert Cell Below"),execute:e=>{const t=m(e);if(t)return u.NotebookActions.insertBelow(t.content)},isEnabled:p}),i.addCommand(y.selectAbove,{label:d.__("Select Cell Above"),execute:e=>{const t=m(e);if(t)return u.NotebookActions.selectAbove(t.content)},isEnabled:p}),i.addCommand(y.selectBelow,{label:d.__("Select Cell Below"),execute:e=>{const t=m(e);if(t)return u.NotebookActions.selectBelow(t.content)},isEnabled:p}),i.addCommand(y.extendAbove,{label:d.__("Extend Selection Above"),execute:e=>{const t=m(e);if(t)return u.NotebookActions.extendSelectionAbove(t.content)},isEnabled:p}),i.addCommand(y.extendTop,{label:d.__("Extend Selection to Top"),execute:e=>{const t=m(e);if(t)return u.NotebookActions.extendSelectionAbove(t.content,!0)},isEnabled:p}),i.addCommand(y.extendBelow,{label:d.__("Extend Selection Below"),execute:e=>{const t=m(e);if(t)return u.NotebookActions.extendSelectionBelow(t.content)},isEnabled:p}),i.addCommand(y.extendBottom,{label:d.__("Extend Selection to Bottom"),execute:e=>{const t=m(e);if(t)return u.NotebookActions.extendSelectionBelow(t.content,!0)},isEnabled:p}),i.addCommand(y.selectAll,{label:d.__("Select All Cells"),execute:e=>{const t=m(e);if(t)return u.NotebookActions.selectAll(t.content)},isEnabled:p}),i.addCommand(y.deselectAll,{label:d.__("Deselect All Cells"),execute:e=>{const t=m(e);if(t)return u.NotebookActions.deselectAll(t.content)},isEnabled:p}),i.addCommand(y.moveUp,{label:d.__("Move Cells Up"),execute:e=>{const t=m(e);if(t)return u.NotebookActions.moveUp(t.content)},isEnabled:p}),i.addCommand(y.moveDown,{label:d.__("Move Cells Down"),execute:e=>{const t=m(e);if(t)return u.NotebookActions.moveDown(t.content)},isEnabled:p}),i.addCommand(y.toggleAllLines,{label:d.__("Toggle All Line Numbers"),execute:e=>{const t=m(e);if(t)return u.NotebookActions.toggleAllLineNumbers(t.content)},isEnabled:p}),i.addCommand(y.commandMode,{label:d.__("Enter Command Mode"),execute:e=>{const t=m(e);t&&(t.content.mode="command")},isEnabled:p}),i.addCommand(y.editMode,{label:d.__("Enter Edit Mode"),execute:e=>{const t=m(e);t&&(t.content.mode="edit")},isEnabled:p}),i.addCommand(y.undoCellAction,{label:d.__("Undo Cell Operation"),execute:e=>{const t=m(e);if(t)return u.NotebookActions.undo(t.content)},isEnabled:p}),i.addCommand(y.redoCellAction,{label:d.__("Redo Cell Operation"),execute:e=>{const t=m(e);if(t)return u.NotebookActions.redo(t.content)},isEnabled:p}),i.addCommand(y.changeKernel,{label:d.__("Change Kernel…"),execute:e=>{const t=m(e);if(t)return c.selectKernel(t.context.sessionContext,s)},isEnabled:p}),i.addCommand(y.reconnectToKernel,{label:d.__("Reconnect To Kernel"),execute:e=>{var t;const o=m(e);if(!o)return;const n=null===(t=o.context.sessionContext.session)||void 0===t?void 0:t.kernel;return n?n.reconnect():void 0},isEnabled:p}),i.addCommand(y.createOutputView,{label:d.__("Create New View for Output"),execute:async e=>{var o;let n,r;const c=e.path;let d=e.index;if(c&&null!=d){if(r=t.findWidget(c,M),!r)return}else{if(r=m(Object.assign(Object.assign({},e),{activate:!1})),!r)return;n=r.content.activeCell,d=r.content.activeCellIndex}const i=new K.ClonedOutputArea({notebook:r,cell:n,index:d,translator:s}),u=new l.MainAreaWidget({content:i});r.context.addSibling(u,{ref:r.id,mode:"split-bottom"});const b=()=>{a.save(u)};r.context.pathChanged.connect(b),null===(o=r.context.model)||void 0===o||o.cells.changed.connect(b),a.add(u),r.content.disposed.connect((()=>{var e;r.context.pathChanged.disconnect(b),null===(e=r.context.model)||void 0===e||e.cells.changed.disconnect(b),u.dispose()}))},isEnabled:k}),i.addCommand(y.createConsole,{label:d.__("New Console for Notebook"),execute:e=>{const t=m(Object.assign(Object.assign({},e),{activate:!1}));if(t)return K.createConsole(i,t,e.activate)},isEnabled:p}),i.addCommand(y.markdown1,{label:d.__("Change to Heading 1"),execute:e=>{const t=m(e);if(t)return u.NotebookActions.setMarkdownHeader(t.content,1)},isEnabled:p}),i.addCommand(y.markdown2,{label:d.__("Change to Heading 2"),execute:e=>{const t=m(e);if(t)return u.NotebookActions.setMarkdownHeader(t.content,2)},isEnabled:p}),i.addCommand(y.markdown3,{label:d.__("Change to Heading 3"),execute:e=>{const t=m(e);if(t)return u.NotebookActions.setMarkdownHeader(t.content,3)},isEnabled:p}),i.addCommand(y.markdown4,{label:d.__("Change to Heading 4"),execute:e=>{const t=m(e);if(t)return u.NotebookActions.setMarkdownHeader(t.content,4)},isEnabled:p}),i.addCommand(y.markdown5,{label:d.__("Change to Heading 5"),execute:e=>{const t=m(e);if(t)return u.NotebookActions.setMarkdownHeader(t.content,5)},isEnabled:p}),i.addCommand(y.markdown6,{label:d.__("Change to Heading 6"),execute:e=>{const t=m(e);if(t)return u.NotebookActions.setMarkdownHeader(t.content,6)},isEnabled:p}),i.addCommand(y.hideCode,{label:d.__("Collapse Selected Code"),execute:e=>{const t=m(e);if(t)return u.NotebookActions.hideCode(t.content)},isEnabled:p}),i.addCommand(y.showCode,{label:d.__("Expand Selected Code"),execute:e=>{const t=m(e);if(t)return u.NotebookActions.showCode(t.content)},isEnabled:p}),i.addCommand(y.hideAllCode,{label:d.__("Collapse All Code"),execute:e=>{const t=m(e);if(t)return u.NotebookActions.hideAllCode(t.content)},isEnabled:p}),i.addCommand(y.showAllCode,{label:d.__("Expand All Code"),execute:e=>{const t=m(e);if(t)return u.NotebookActions.showAllCode(t.content)},isEnabled:p}),i.addCommand(y.hideOutput,{label:d.__("Collapse Selected Outputs"),execute:e=>{const t=m(e);if(t)return u.NotebookActions.hideOutput(t.content)},isEnabled:p}),i.addCommand(y.showOutput,{label:d.__("Expand Selected Outputs"),execute:e=>{const t=m(e);if(t)return u.NotebookActions.showOutput(t.content)},isEnabled:p}),i.addCommand(y.hideAllOutputs,{label:d.__("Collapse All Outputs"),execute:e=>{const t=m(e);if(t)return u.NotebookActions.hideAllOutputs(t.content)},isEnabled:p}),i.addCommand(y.showAllOutputs,{label:d.__("Expand All Outputs"),execute:e=>{const t=m(e);if(t)return u.NotebookActions.showAllOutputs(t.content)},isEnabled:p}),i.addCommand(y.enableOutputScrolling,{label:d.__("Enable Scrolling for Outputs"),execute:e=>{const t=m(e);if(t)return u.NotebookActions.enableOutputScrolling(t.content)},isEnabled:p}),i.addCommand(y.disableOutputScrolling,{label:d.__("Disable Scrolling for Outputs"),execute:e=>{const t=m(e);if(t)return u.NotebookActions.disableOutputScrolling(t.content)},isEnabled:p}),i.addCommand(y.selectLastRunCell,{label:d.__("Select current running or last run cell"),execute:e=>{const t=m(e);if(t)return u.NotebookActions.selectLastRunCell(t.content)},isEnabled:p}),i.addCommand(y.replaceSelection,{label:d.__("Replace Selection in Notebook Cell"),execute:e=>{const t=m(e),o=e.text||"";if(t)return u.NotebookActions.replaceSelection(t.content,o)},isEnabled:p})}(e,o,0,g,A,n,m),a&&function(e,t,o){const n=o.load("jupyterlab");let l=n.__("Notebook Operations");[y.interrupt,y.restart,y.restartClear,y.restartRunAll,y.runAll,y.renderAllMarkdown,y.runAllAbove,y.runAllBelow,y.restartAndRunToSelected,y.selectAll,y.deselectAll,y.clearAllOutputs,y.toggleAllLines,y.editMode,y.commandMode,y.changeKernel,y.reconnectToKernel,y.createConsole,y.closeAndShutdown,y.trust].forEach((t=>{e.addItem({command:t,category:l})})),e.addItem({command:y.createNew,category:l,args:{isPalette:!0}}),l=n.__("Notebook Cell Operations"),[y.run,y.runAndAdvance,y.runAndInsert,y.runInConsole,y.clearOutputs,y.toCode,y.toMarkdown,y.toRaw,y.cut,y.copy,y.pasteBelow,y.pasteAbove,y.pasteAndReplace,y.deleteCell,y.split,y.merge,y.insertAbove,y.insertBelow,y.selectAbove,y.selectBelow,y.extendAbove,y.extendTop,y.extendBelow,y.extendBottom,y.moveDown,y.moveUp,y.undoCellAction,y.redoCellAction,y.markdown1,y.markdown2,y.markdown3,y.markdown4,y.markdown5,y.markdown6,y.hideCode,y.showCode,y.hideAllCode,y.showAllCode,y.hideOutput,y.showOutput,y.hideAllOutputs,y.showAllOutputs,y.enableOutputScrolling,y.disableOutputScrolling].forEach((t=>{e.addItem({command:t,category:l})}))}(a,0,n);let w=0;const v=e.docRegistry.getFileType("notebook");function N(e){g.forEach((t=>{t.setConfig(e)}))}function E(e){const o=Object.assign(Object.assign({},u.StaticNotebook.defaultEditorConfig.code),e.get("codeCellConfig").composite),n=Object.assign(Object.assign({},u.StaticNotebook.defaultEditorConfig.markdown),e.get("markdownCellConfig").composite),l=Object.assign(Object.assign({},u.StaticNotebook.defaultEditorConfig.raw),e.get("rawCellConfig").composite);t.editorConfig={code:o,markdown:n,raw:l},t.notebookConfig={scrollPastEnd:e.get("scrollPastEnd").composite,defaultCell:e.get("defaultCell").composite,recordTiming:e.get("recordTiming").composite},t.shutdownOnClose=e.get("kernelShutdown").composite,N({editorConfig:t.editorConfig,notebookConfig:t.notebookConfig,kernelShutdown:t.shutdownOnClose})}t.widgetCreated.connect(((e,t)=>{var o,n;t.id=t.id||"notebook-"+ ++w,t.title.icon=null==v?void 0:v.icon,t.title.iconClass=null!==(o=null==v?void 0:v.iconClass)&&void 0!==o?o:"",t.title.iconLabel=null!==(n=null==v?void 0:v.iconLabel)&&void 0!==n?n:"",t.context.pathChanged.connect((()=>{g.save(t)})),g.add(t)}));const I=b?b.load(S.id):Promise.reject(new Error(`No setting registry for ${S.id}`));return e.restored.then((()=>I)).then((e=>{E(e),e.changed.connect((()=>{E(e)}))})).catch((e=>{console.warn(e.message),N({editorConfig:t.editorConfig,notebookConfig:t.notebookConfig,kernelShutdown:t.shutdownOnClose})})),i&&function(e,t,o,n,a,r,s){const c=a.load("jupyterlab"),{commands:d}=e;s=s||l.sessionContextDialogs,t.editMenu.undoers.add({tracker:o,undo:e=>{var t;null===(t=e.content.activeCell)||void 0===t||t.editor.undo()},redo:e=>{var t;null===(t=e.content.activeCell)||void 0===t||t.editor.redo()}}),t.editMenu.clearers.add({tracker:o,clearCurrentLabel:e=>c.__("Clear Output"),clearAllLabel:e=>c.__("Clear All Outputs"),clearCurrent:e=>u.NotebookActions.clearOutputs(e.content),clearAll:e=>u.NotebookActions.clearAllOutputs(e.content)}),t.fileMenu.newMenu.addGroup([{command:y.createNew}],10),t.fileMenu.closeAndCleaners.add({tracker:o,closeAndCleanupLabel:e=>c.__("Close and Shutdown Notebook"),closeAndCleanup:e=>{const t=e.title.label;return(0,l.showDialog)({title:c.__("Shut down the Notebook?"),body:c.__('Are you sure you want to close "%1"?',t),buttons:[l.Dialog.cancelButton(),l.Dialog.warnButton()]}).then((t=>{if(t.button.accept)return e.context.sessionContext.shutdown().then((()=>{e.dispose()}))}))}});const i=new f.Menu({commands:d});i.title.label=c.__("Export Notebook As…"),n.nbconvert.getExportFormats().then((e=>{if(e){const o=K.getFormatLabels(a);Object.keys(e).forEach((function(e){const t=c.__(e[0].toUpperCase()+e.substr(1)),n=o[e]?o[e]:t;let l={format:e,label:n,isPalette:!1};if(-1===O.indexOf(e)&&(i.addItem({command:y.exportToFormat,args:l}),r)){l={format:e,label:n,isPalette:!0};const t=c.__("Notebook Operations");r.addItem({command:y.exportToFormat,category:t,args:l})}}));const n=[{type:"submenu",submenu:i}];t.fileMenu.addGroup(n,10)}})),t.kernelMenu.kernelUsers.add({tracker:o,interruptKernel:e=>{var t;const o=null===(t=e.sessionContext.session)||void 0===t?void 0:t.kernel;return o?o.interrupt():Promise.resolve(void 0)},reconnectToKernel:e=>{var t;const o=null===(t=e.sessionContext.session)||void 0===t?void 0:t.kernel;return o?o.reconnect():Promise.resolve(void 0)},restartKernelAndClearLabel:e=>c.__("Restart Kernel and Clear All Outputs…"),restartKernel:e=>s.restart(e.sessionContext,a),restartKernelAndClear:e=>s.restart(e.sessionContext,a).then((t=>(t&&u.NotebookActions.clearAllOutputs(e.content),t))),changeKernel:e=>s.selectKernel(e.sessionContext,a),shutdownKernel:e=>e.sessionContext.shutdown()}),t.fileMenu.consoleCreators.add({tracker:o,createConsoleLabel:e=>c.__("New Console for Notebook"),createConsole:e=>K.createConsole(d,e,!0)});const b=[y.hideCode,y.hideOutput,y.hideAllCode,y.hideAllOutputs].map((e=>({command:e})));t.viewMenu.addGroup(b,10);const m=[y.showCode,y.showOutput,y.showAllCode,y.showAllOutputs].map((e=>({command:e})));t.viewMenu.addGroup(m,11),t.viewMenu.editorViewers.add({tracker:o,toggleLineNumbers:e=>{u.NotebookActions.toggleAllLineNumbers(e.content)},lineNumbersToggled:e=>{const t=e.content.editorConfig;return!!(t.code.lineNumbers&&t.markdown.lineNumbers&&t.raw.lineNumbers)}}),t.runMenu.codeRunners.add({tracker:o,runLabel:e=>c.__("Run Selected Cells"),runAllLabel:e=>c.__("Run All Cells"),restartAndRunAllLabel:e=>c.__("Restart Kernel and Run All Cells…"),run:e=>{const{context:t,content:o}=e;return u.NotebookActions.runAndAdvance(o,t.sessionContext).then((()=>{}))},runAll:e=>{const{context:t,content:o}=e;return u.NotebookActions.runAll(o,t.sessionContext).then((()=>{}))},restartAndRunAll:e=>{const{context:t,content:o}=e;return s.restart(t.sessionContext,a).then((e=>(e&&u.NotebookActions.runAll(o,t.sessionContext),e)))}});const p=[y.renderAllMarkdown].map((e=>({command:e}))),k=[y.runAndInsert,y.run,y.runInConsole].map((e=>({command:e}))),C=[y.runAllAbove,y.runAllBelow].map((e=>({command:e}))),g=[y.undoCellAction,y.redoCellAction].map((e=>({command:e}))),x=[y.cut,y.copy,y.pasteBelow,y.pasteAbove,y.pasteAndReplace].map((e=>({command:e}))),A=[y.selectAll,y.deselectAll].map((e=>({command:e}))),_=[y.split,y.merge].map((e=>({command:e}))),h=[y.moveUp,y.moveDown].map((e=>({command:e})));t.editMenu.addGroup(g,4),t.editMenu.addGroup(x,5),t.editMenu.addGroup([{command:y.deleteCell}],6),t.editMenu.addGroup(A,7),t.editMenu.addGroup(h,8),t.editMenu.addGroup(_,9),t.runMenu.addGroup(k,10),t.runMenu.addGroup(C,11),t.runMenu.addGroup(p,12),t.helpMenu.kernelUsers.add({tracker:o,getKernel:e=>{var t;return null===(t=e.sessionContext.session)||void 0===t?void 0:t.kernel}})}(e,i,g,k,n,a,m),C.addCommand(y.createNew,{label:e=>{var t,o,n;const l=e.kernelName||"";return e.isLauncher&&e.kernelName&&k.kernelspecs?null!==(n=null===(o=null===(t=k.kernelspecs.specs)||void 0===t?void 0:t.kernelspecs[l])||void 0===o?void 0:o.display_name)&&void 0!==n?n:"":e.isPalette?p.__("New Notebook"):p.__("Notebook")},caption:p.__("Create a new notebook"),icon:e=>e.isPalette?void 0:x.notebookIcon,execute:e=>{return t=e.cwd||(s?s.defaultBrowser.model.path:""),o=e.kernelName||"",C.execute("docmanager:new-untitled",{path:t,type:"notebook"}).then((e=>C.execute("docmanager:open",{path:e.path,factory:M,kernel:{name:o}})));var t,o}}),c&&k.ready.then((()=>{let e=null;const t=()=>{e&&(e.dispose(),e=null);const t=k.kernelspecs.specs;if(!t)return;e=new h.DisposableSet;const o=r.PageConfig.getBaseUrl();for(const n in t.kernelspecs){const l=n===t.default?0:1/0,a=t.kernelspecs[n];let s=a.resources["logo-64x64"];if(s){const e=s.indexOf("kernelspecs");s=r.URLExt.join(o,s.slice(e))}e.add(c.add({command:y.createNew,args:{isLauncher:!0,kernelName:n},category:p.__("Notebook"),rank:l,kernelIconUrl:s,metadata:{kernel:_.JSONExt.deepCopy(a.metadata||{})}}))}};t(),k.kernelspecs.specsChanged.connect(t)})),e.contextMenu.addItem({type:"separator",selector:".jp-Notebook .jp-Cell",rank:0}),e.contextMenu.addItem({command:y.cut,selector:".jp-Notebook .jp-Cell",rank:1}),e.contextMenu.addItem({command:y.copy,selector:".jp-Notebook .jp-Cell",rank:2}),e.contextMenu.addItem({command:y.pasteBelow,selector:".jp-Notebook .jp-Cell",rank:3}),e.contextMenu.addItem({type:"separator",selector:".jp-Notebook .jp-Cell",rank:4}),e.contextMenu.addItem({command:y.deleteCell,selector:".jp-Notebook .jp-Cell",rank:5}),e.contextMenu.addItem({type:"separator",selector:".jp-Notebook .jp-Cell",rank:6}),e.contextMenu.addItem({command:y.split,selector:".jp-Notebook .jp-Cell",rank:7}),e.contextMenu.addItem({command:y.merge,selector:".jp-Notebook .jp-Cell",rank:8}),e.contextMenu.addItem({type:"separator",selector:".jp-Notebook .jp-Cell",rank:9}),e.contextMenu.addItem({command:y.createOutputView,selector:".jp-Notebook .jp-CodeCell",rank:10}),e.contextMenu.addItem({type:"separator",selector:".jp-Notebook .jp-CodeCell",rank:11}),e.contextMenu.addItem({command:y.clearOutputs,selector:".jp-Notebook .jp-CodeCell",rank:12}),e.contextMenu.addItem({command:y.clearAllOutputs,selector:".jp-Notebook",rank:0}),e.contextMenu.addItem({type:"separator",selector:".jp-Notebook",rank:1}),e.contextMenu.addItem({command:y.enableOutputScrolling,selector:".jp-Notebook",rank:2}),e.contextMenu.addItem({command:y.disableOutputScrolling,selector:".jp-Notebook",rank:3}),e.contextMenu.addItem({type:"separator",selector:".jp-Notebook",rank:4}),e.contextMenu.addItem({command:y.undoCellAction,selector:".jp-Notebook",rank:5}),e.contextMenu.addItem({command:y.redoCellAction,selector:".jp-Notebook",rank:6}),e.contextMenu.addItem({command:y.restart,selector:".jp-Notebook",rank:7}),e.contextMenu.addItem({type:"separator",selector:".jp-Notebook",rank:8}),e.contextMenu.addItem({command:y.createConsole,selector:".jp-Notebook",rank:9}),g},autoStart:!0},I={id:"@jupyterlab/notebook-extension:factory",provides:u.NotebookPanel.IContentFactory,requires:[a.IEditorServices],autoStart:!0,activate:(e,t)=>{const o=t.factoryService.newInlineEditor;return new u.NotebookPanel.ContentFactory({editorFactory:o})}},j={activate:function(e,t,o,n,l,a){const r=l.load("jupyterlab"),s="notebook-tools",c=new u.NotebookTools({tracker:t,translator:l}),d=new u.NotebookTools.ActiveCellTool,i=u.NotebookTools.createSlideShowSelector(l),b=o.factoryService.newInlineEditor,m=new u.NotebookTools.CellMetadataEditorTool({editorFactory:b,collapsed:!1,translator:l}),p=new u.NotebookTools.NotebookMetadataEditorTool({editorFactory:b,translator:l});return e.serviceManager.nbconvert.getExportFormats().then((e=>{if(e){const t=["pdf","slides","script","notebook","custom"];let o=[[r.__("PDF"),"pdf"],[r.__("Slides"),"slides"],[r.__("Script"),"script"],[r.__("Notebook"),"notebook"],[r.__("Custom"),"custom"]];const n=Object.keys(e),a=K.getFormatLabels(l);n.forEach((function(n){if(-1===t.indexOf(n)){const t=r.__(n[0].toUpperCase()+n.substr(1)),l=a[n]?a[n]:t,s=e[n].output_mimetype;o.push([l,s])}}));const s=u.NotebookTools.createNBConvertSelector(o,l);c.addItem({tool:s,section:"common",rank:3})}})),c.title.icon=x.buildIcon,c.title.caption=r.__("Notebook Tools"),c.id=s,c.addItem({tool:d,section:"common",rank:1}),c.addItem({tool:i,section:"common",rank:2}),c.addItem({tool:m,section:"advanced",rank:1}),c.addItem({tool:p,section:"advanced",rank:2}),w.MessageLoop.installMessageHook(c,((e,t)=>{switch(t.type){case"activate-request":n.save(s,{open:!0});break;case"after-hide":case"close-request":n.remove(s)}return!0})),a&&t.widgetAdded.connect(((e,t)=>{a.register(t).render(c)})),c},provides:u.INotebookTools,id:"@jupyterlab/notebook-extension:tools",autoStart:!0,requires:[u.INotebookTracker,a.IEditorServices,k.IStateDB,g.ITranslator],optional:[b.IPropertyInspectorProvider]},T={id:"@jupyterlab/notebook-extension:mode-status",autoStart:!0,requires:[u.INotebookTracker,g.ITranslator],optional:[C.IStatusBar],activate:(e,t,o,n)=>{if(!n)return;const{shell:l}=e,a=new u.CommandEditStatus(o);t.currentChanged.connect((()=>{const e=t.currentWidget;a.model.notebook=e&&e.content})),n.registerStatusItem("@jupyterlab/notebook-extension:mode-status",{item:a,align:"right",rank:4,isActive:()=>!!l.currentWidget&&!!t.currentWidget&&l.currentWidget===t.currentWidget})}},R={id:"@jupyterlab/notebook-extension:trust-status",autoStart:!0,requires:[u.INotebookTracker,g.ITranslator],optional:[C.IStatusBar],activate:(e,t,o,n)=>{if(!n)return;const{shell:l}=e,a=new u.NotebookTrustStatus(o);t.currentChanged.connect((()=>{const e=t.currentWidget;a.model.notebook=e&&e.content})),n.registerStatusItem("@jupyterlab/notebook-extension:trust-status",{item:a,align:"right",rank:3,isActive:()=>!!l.currentWidget&&!!t.currentWidget&&l.currentWidget===t.currentWidget})}},B={id:"@jupyterlab/notebook-extension:widget-factory",provides:u.INotebookWidgetFactory,requires:[u.NotebookPanel.IContentFactory,a.IEditorServices,m.IRenderMimeRegistry,l.ISessionContextDialogs,g.ITranslator],activate:function(e,t,o,n,l,a){const r=new u.NotebookWidgetFactory({name:M,fileTypes:["notebook"],modelName:"notebook",defaultFor:["notebook"],preferKernel:!0,canStartKernel:!0,rendermime:n,contentFactory:t,editorConfig:u.StaticNotebook.defaultEditorConfig,notebookConfig:u.StaticNotebook.defaultNotebookConfig,mimeTypeService:o.mimeTypeService,sessionDialogs:l,translator:a});return e.docRegistry.addWidgetFactory(r),r},autoStart:!0},L=[I,S,j,T,R,B,E];var K;!function(e){e.createConsole=function(e,t,o){const n={path:t.context.path,preferredLanguage:t.context.model.defaultKernelLanguage,activate:o,ref:t.id,insertMode:"split-bottom"};return e.execute("console:create",n)};class t extends f.Panel{constructor(e){super(),this._cell=null;const t=(e.translator||g.nullTranslator).load("jupyterlab");this._notebook=e.notebook,this._index=void 0!==e.index?e.index:-1,this._cell=e.cell||null,this.id=`LinkedOutputView-${_.UUID.uuid4()}`,this.title.label="Output View",this.title.icon=x.notebookIcon,this.title.caption=this._notebook.title.label?t.__("For Notebook: %1",this._notebook.title.label):t.__("For Notebook:"),this.addClass("jp-LinkedOutputView"),this._notebook.context.ready.then((()=>{if(this._cell||(this._cell=this._notebook.content.widgets[this._index]),!this._cell||"code"!==this._cell.model.type)return void this.dispose();const e=this._cell.cloneOutputArea();this.addWidget(e)}))}get index(){return this._cell?A.ArrayExt.findFirstIndex(this._notebook.content.widgets,(e=>e===this._cell)):this._index}get path(){return this._notebook.context.path}}e.ClonedOutputArea=t}(K||(K={})),function(e){e.getFormatLabels=function(e){const t=(e=e||g.nullTranslator).load("jupyterlab");return{html:t.__("HTML"),latex:t.__("LaTeX"),markdown:t.__("Markdown"),pdf:t.__("PDF"),rst:t.__("ReStructured Text"),script:t.__("Executable Script"),slides:t.__("Reveal.js Slides")}}}(K||(K={}))}}]);
//# sourceMappingURL=8389.bundle.js.map